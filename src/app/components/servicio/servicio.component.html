<div class="container mt-5 pt-3 pt-lg-4" *ngIf="!loading && existeServicio">

    <!-- Titulo -->
    <div class="row">
        <div class="col text-verde">
            <h3><strong>{{servicio.nombre}}</strong></h3>
        </div>
    </div>

    <!-- Contenido -->
    <h5 class="text-muted">Servicio brindado por:</h5>

    <div class="card border-success overflow-hidden mb-3" style="max-width: 300px;">
        <div class="card-content">
            <div class="card-body cleartfix">
                <div class="media align-items-stretch">
                    <div class="media-body">
                        <h4>{{userFirestore.nombre + ' ' + userFirestore.apellido}}</h4>
                        <span>{{userFirestore.estado}}</span>
                    </div>
                    <div class="align-self-center contenedor">
                        <img class="rounded" [src]="userFirestore.photoURL" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Descripción del servicio -->
    <div class="row">
        <div class="col">
            <h5 class="text-muted">Descripción:</h5>
            <p>{{servicio.descripcion}}</p>
        </div>
    </div>

    <!-- Calificación del servicio -->
    <div class="row mt-2">
        <div class="col mx-auto text-center">
            <i class="fas fa-star text-verde calif" *ngFor="let i of calif"></i>
            <i class="far fa-star calif" *ngFor="let i of calif_aux"></i>
            <br>
            <small style="margin-top: 0px;"> (27 evaluaciones)</small>
        </div>
    </div>

    <hr>

    <!-- Horario -->
    <div class="row">
        <div class="col">
            <h5 class="text-muted">Horario:</h5>
        </div>
    </div>
    <ul class="list-group mt-2">
        <li class="list-group-item border-success" *ngFor="let horario of servicio.horario">
            <span class="">{{horario.dia}} </span>
            <span class="float-right border rounded bg-rojo px-2 text-white py-1">{{horario.hora_termino}}</span>
            <span class="float-right border rounded bg-verde px-2 text-white py-1 mr-2">{{horario.hora_inicio}}</span>
        </li>
    </ul>

    <!-- Fotos -->
    <div class="row mt-2">
        <div class="col">
            <h5 class="text-muted">Imágenes del servicio:</h5>
        </div>
    </div>
    <div class="row d-flex justify-content-center">
        <!-- Imagenes (una vez que el usuario haya subido algo) -->
        <div class="col-6 col-md-3 my-3" *ngFor="let foto of servicio.fotos">
            <!-- Imagen -->
            <img class="img-fluid rounded" [src]="foto" alt="Imagen de servicio">
        </div>
    </div>

    <!-- Seleccionar fecha -->
    <div class="row mt-3">
        <div class="col">
            <form [formGroup]="citaForm">
                <div class="form-group">
                    <strong><label for="fecha">Selecciona una fecha</label></strong>
                    <input type="date" formControlName="fecha" [min]="minDate" id="fecha" class="form-control"
                        placeholder="Fecha">
                </div>
            </form>
        </div>
    </div>

    <!-- Boton agendar cita -->
    <div class="row justify-content-center mt-2">
        <div class="col-8">
            <button type="button" (click)="agendarServicio()" class="btn btn-outline-success btn-lg btn-block">
                Agendar Cita
            </button>
        </div>
    </div>

</div>


<!-- Spinner de cuando carga la pantalla -->
<ng-container *ngIf="loading">
    <app-loading></app-loading>
</ng-container>

<div class="container mt-5 pt-3 pt-lg-4" *ngIf="!loading && !existeServicio">

    <!-- Titulo (header) -->
    <div class="row">
        <div class="col">
            <h3>Este servicio no existe</h3>
        </div>
    </div>

    <!-- Contenido -->
    <div class="row">
        <div class="col">
            <p>
                Puede que escribió mal el id del servicio o el usuario haya borrado su servicio <span
                    class="text-verde">¡Eso nunca lo sabremos!</span>
            </p>
        </div>
    </div>

</div>